# Kakuro Conquest Solver

Copy this [link][1] to your bookmarks bar. Using it when you're on
[Kakuro Conquest](http://www.kakuroconquest.com) will solve the puzzle for you.

[1]: javascript:(function(){var r,n,e,o,t,i,l,s,u,a,f,c,h,b,v,p,g,w,d,m,N,E;r=function(){var r,n,e,o,t,i,l,s,u,a,f,c,h,b,v,p,g,w,d,m,N,E,k,y;r=[];n={};e=document.getElementById("CurrentKakuroBoard");o={};for(t=0,l=(i=e.getElementsByTagName("tr")).length;t<l;++t){s=t;u=i[t];a=void 8;for(f=0,h=(c=u.getElementsByTagName("td")).length;f<h;++f){b=f;v=c[f];switch(v.className){case"cellTotal":for(p=0,w=(g=v.getElementsByTagName("input")).length;p<w;++p){d=g[p];switch(false){case d.name.indexOf("v")===-1:o[b]=Number(d.value);break;case d.name.indexOf("h")===-1:a=Number(d.value);break;default:throw new Error("Don't know how to process this board @ "+b+", "+s)}}break;case"cellNumber":case"cellNumberError":if(a===void 8){throw new Error("Unknown row total @ "+b+", "+s)}if(o[b]===void 8){throw new Error("Unknown column total @ "+b+", "+s)}m=((g=n[[b-1,s]])!=null?g.row:void 8)||[];N=((E=n[[b,s-1]])!=null?E.col:void 8)||[];m.total=a;N.total=o[b];k="123456789";if(v.children[0].value){k=String(v.children[0].value)}y=n[[b,s]]={possible:k,row:m,col:N,node:v.children[0]};m.push(y);N.push(y)}}}return n};n=function(r){var n,e;for(n in r){e=r[n];e.node.value=e.possible}};e=function(r){var n,e,o;n={};for(e in r){o=r[e];n[e]={possible:o.possible}}return JSON.stringify(n)};o=function(r,n){var e,o,t;for(e in o=JSON.parse(n)){t=o[e];r[e].possible=t.possible}};t=function(r){var n,e,o,t,i=[];for(n=0,o=(e=r.row).length;n<o;++n){t=e[n];if(t!==r){i.push(t)}}return i};i=function(r){var n,e,o,t,i=[];for(n=0,o=(e=r.col).length;n<o;++n){t=e[n];if(t!==r){i.push(t)}}return i};l=function(r){return t(r).concat(i(r))};s={};u=function(r,n,e){var o,t,i,l,a,f,c,h,b;e==null&&(e="123456789");switch(n){case 0:return"";case 1:if(e.split("").join(".").indexOf(r)===-1){return""}return String(r)}if(e.length===0){return""}o=s[[r,n,e]];if(o!==void 8){return o}t=new Set;for(i=0,l=e.length;i<l;++i){a=e[i];if(t.has(a)){continue}f=u(r-a,n-1,e.replace(a,""));if(f===""){continue}t.add(a);for(c=0,h=f.length;c<h;++c){b=f[c];t.add(b)}}return s[[r,n,e]]=Array.from(t).join("")};console.assert(u(17,2)==="89");console.assert(u(16,2)==="79");console.assert(u(10,4)==="1234");console.assert(u(7,3)==="124");console.assert(u(7,3)==="124");a=function(r){return r.reduce(function(r,n){return r+n},0)};f=function(r){var n;return a(function(){var e,o,t,i=[];for(e=0,t=(o=r).length;e<t;++e){n=o[e];i.push(1<<Number(n)-1)}return i}())};c=function(r){var n;return function(){var e,o,t,i=[];for(e=0,t=(o=[1,2,3,4,5,6,7,8,9]).length;e<t;++e){n=o[e];if((r&1<<n-1)!==0){i.push(n)}}return i}().join("")};h=function(r,n){return c(f(r)&f(n))};console.assert(h("123","345")==="3");console.assert(h("1234","345")==="34");b=function(r,n){var e;e=f(n);return c((f(r)|e)-e)};console.assert(b("123","345")==="12");console.assert(b("1234","345")==="12");v=function(r){if(r.possible.length===0){throw new Error("unsolvable board!")}return r.possible.length===1};p=function(r){return r.filter(v)};g=function(r){if(p(r).length===r.length){if(a(r.map(function(r){return Number(r.possible[0])}))!==r.total){throw new Error("unsolvable board!")}}};w=function(r){var n,e;n=p(r).map(function(r){return Number(r.possible[0])});e=b("123456789",n.join(""));return u(r.total-a(n),r.length-n.length,e)};d=function(r){var n,e,o,l,s,u;n=function(r,n){var e,o,t,i;e=w(r);for(o=0,t=n.length;o<t;++o){i=n[o];if(!v(i)){if(h(i.possible,e)===""){return true}}}};e="";o=r.possible;for(l=0,s=o.length;l<s;++l){u=o[l];r.possible=u;if(n(r.row,t(r))||n(r.col,i(r))){e+=u}}r.possible=b(o,e);if(v(r)){return N(r)}};m=function(r){var n;return function(){var e,o,t=[];for(e in o=r){n=o[e];if(v(n)){t.push(n)}}return t}().length};N=function(r){if(Number(r.possible)<1||Number(r.possible)>9){throw new Error("unsolvable board!")}g(r.row);g(r.col)};E=function(r){var t,i,l,s,u,a,f,c,b,p,g;do{t=m(r);for(i in r){l=r[i];if(!v(l)){s=w(l.row);u=w(l.col);a=h(s,u);l.possible=h(l.possible,a);if(v(l)){N(l)}d(l)}}}while(m(r)!==t);n(r);for(i in r){l=r[i];if(!v(l)){f=e(r);c=l.possible;for(b=0,p=c.length;b<p;++b){a=c[b];try{l.possible=a;N(l);E(r);while(Object.keys(r).length!==m(r)){E(r)}n(r);return}catch(k){g=k;o(r,f)}}throw new Error("unsolvable board!")}}};E(r())}).call(this);
